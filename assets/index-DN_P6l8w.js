import{m as d,k as L,j as i,L as P,s as b,e as S,l as B,n as D,r as k,i as y,o as O,S as R,A as q,d as A,q as I,t as V}from"./index-CHpVf3yn.js";function _(f){let{swiper:e,extendParams:u,on:o,emit:p}=f;u({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function v(a){let n;return a&&typeof a=="string"&&e.isElement&&(n=e.el.querySelector(a),n)?n:(a&&(typeof a=="string"&&(n=[...document.querySelectorAll(a)]),e.params.uniqueNavElements&&typeof a=="string"&&n&&n.length>1&&e.el.querySelectorAll(a).length===1?n=e.el.querySelector(a):n&&n.length===1&&(n=n[0])),a&&!n?a:n)}function g(a,n){const s=e.params.navigation;a=d(a),a.forEach(t=>{t&&(t.classList[n?"add":"remove"](...s.disabledClass.split(" ")),t.tagName==="BUTTON"&&(t.disabled=n),e.params.watchOverflow&&e.enabled&&t.classList[e.isLocked?"add":"remove"](s.lockClass))})}function c(){const{nextEl:a,prevEl:n}=e.navigation;if(e.params.loop){g(n,!1),g(a,!1);return}g(n,e.isBeginning&&!e.params.rewind),g(a,e.isEnd&&!e.params.rewind)}function r(a){a.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),p("navigationPrev"))}function E(a){a.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),p("navigationNext"))}function m(){const a=e.params.navigation;if(e.params.navigation=L(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(a.nextEl||a.prevEl))return;let n=v(a.nextEl),s=v(a.prevEl);Object.assign(e.navigation,{nextEl:n,prevEl:s}),n=d(n),s=d(s);const t=(l,C)=>{l&&l.addEventListener("click",C==="next"?E:r),!e.enabled&&l&&l.classList.add(...a.lockClass.split(" "))};n.forEach(l=>t(l,"next")),s.forEach(l=>t(l,"prev"))}function j(){let{nextEl:a,prevEl:n}=e.navigation;a=d(a),n=d(n);const s=(t,l)=>{t.removeEventListener("click",l==="next"?E:r),t.classList.remove(...e.params.navigation.disabledClass.split(" "))};a.forEach(t=>s(t,"next")),n.forEach(t=>s(t,"prev"))}o("init",()=>{e.params.navigation.enabled===!1?w():(m(),c())}),o("toEdge fromEdge lock unlock",()=>{c()}),o("destroy",()=>{j()}),o("enable disable",()=>{let{nextEl:a,prevEl:n}=e.navigation;if(a=d(a),n=d(n),e.enabled){c();return}[...a,...n].filter(s=>!!s).forEach(s=>s.classList.add(e.params.navigation.lockClass))}),o("click",(a,n)=>{let{nextEl:s,prevEl:t}=e.navigation;s=d(s),t=d(t);const l=n.target;let C=t.includes(l)||s.includes(l);if(e.isElement&&!C){const x=n.path||n.composedPath&&n.composedPath();x&&(C=x.find(h=>s.includes(h)||t.includes(h)))}if(e.params.navigation.hideOnClick&&!C){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===l||e.pagination.el.contains(l)))return;let x;s.length?x=s[0].classList.contains(e.params.navigation.hiddenClass):t.length&&(x=t[0].classList.contains(e.params.navigation.hiddenClass)),p(x===!0?"navigationShow":"navigationHide"),[...s,...t].filter(h=>!!h).forEach(h=>h.classList.toggle(e.params.navigation.hiddenClass))}});const N=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),c()},w=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),j()};Object.assign(e.navigation,{enable:N,disable:w,update:c,init:m,destroy:j})}const $=({title:f,text:e,icon:u,to:o})=>i.jsxs(P,{to:o,className:`${b.projectsCard} flex flexDirectionColumn alignItemsCenter justifyContentBetween`,children:[i.jsxs("div",{className:b.projectsCardDet,children:[i.jsx("h3",{children:f}),i.jsx("p",{children:e})]}),i.jsx("div",{className:`${b.projectsCardIcon} flexCenter projectsCardS`,children:i.jsx("div",{className:"flexCenter",children:i.jsx("div",{className:"flexCenter",children:i.jsx("img",{loading:"lazy",src:u,alt:f})})})})]}),H=()=>{const{lang:f}=S(),{data:e,status:u,error:o}=B(f),{data:p}=D(f),v=p==null?void 0:p.filter(r=>r.parent_id===0),g=k.useRef(null),c=k.useRef(null);return i.jsxs("div",{className:"projectSliderWrapper",children:[u==="pending"&&i.jsx(y,{sx:{display:"flex",justifyContent:"center",width:"100%"},children:i.jsx(O,{variant:"rectangular",width:400,height:486,sx:{borderRadius:"1.6rem"}})}),u==="error"&&i.jsx(y,{children:o}),i.jsx(R,{slidesPerView:3,spaceBetween:32,className:"projectSlider",modules:[_,q],navigation:{prevEl:g.current,nextEl:c.current},onInit:r=>{r.params.navigation.prevEl=g.current,r.params.navigation.nextEl=c.current,r.navigation.update()},autoplay:{delay:3e3},breakpoints:{280:{slidesPerView:1},500:{slidesPerView:2},992:{slidesPerView:3}},children:u==="success"&&v&&e.map(r=>{var E,m;return i.jsx(A,{children:i.jsx($,{title:r.title,text:r.card_description,icon:r.image,to:`${r.is_corporative===1?(E=v[4])==null?void 0:E.slug:(m=v[3])==null?void 0:m.slug}/${r.slug}`})},r.id)})}),i.jsx("button",{ref:g,className:"flexCenter customBtn prevBtn",children:i.jsx(I,{})}),i.jsx("button",{ref:c,className:"flexCenter customBtn nextBtn",children:i.jsx(V,{})})]})};export{H as default};
