import{j as e,l as y,o as v,S as _,A as S,i as f,r as m,f as C,u as R,x as T,q as P,t as o,B as p}from"./index-DWp-c5y3.js";const N="_customers_12y2i_5",V="_customerSliderWrapper_12y2i_15",B="_customersText_12y2i_25",E="_customerCard_12y2i_41",A="_customersReview_12y2i_85",a={customers:N,customerSliderWrapper:V,customersText:B,customerCard:E,customersReview:A},g=({img:s})=>e.jsx("figure",{className:a.customerCard,children:e.jsx("picture",{children:e.jsx("img",{loading:"lazy",src:s,alt:""})})}),k=s=>y({queryKey:["customers",s],queryFn:async()=>{const t=await v.get(`/${s}/get_customers`);return t==null?void 0:t.data},staleTime:1e3*60*5,cacheTime:1e3*60*30}),I=({customers:s})=>e.jsx(_,{spaceBetween:20,loop:!0,modules:[S],autoplay:{delay:3e3},breakpoints:{280:{slidesPerView:2,spaceBetween:12,centeredSlides:!0},340:{slidesPerView:3,spaceBetween:12,centeredSlides:!0},425:{slidesPerView:4,spaceBetween:12},481:{slidesPerView:2},700:{slidesPerView:3},1024:{slidesPerView:4},1200:{slidesPerView:5},1440:{slidesPerView:6},1800:{slidesPerView:8}},children:s==null?void 0:s.map(t=>e.jsx(f,{children:e.jsx(g,{img:t.image})},t.id))}),W=({placeId:s})=>{const[t,n]=m.useState({}),[x,l]=m.useState(null);return m.useEffect(()=>{(async()=>{try{const r=await fetch("https://maps.googleapis.com/maps/api/place/details/json?placeid=ChIJRbvf7pt9MEARgjHAlEh5G5A&key=AIzaSyCfV-yh-nvSbmfOLJ23TsxTBynxxC82mM0",{mode:"no-cors"});if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);const c=await(r==null?void 0:r.json());n((c==null?void 0:c.result)||{})}catch(i){l(i.message)}})()},[]),e.jsxs("div",{className:a.customersReview,children:[e.jsx("div",{className:a.googleMapReviews}),e.jsx("div",{className:a.googleMapRatings})]})},b=m.forwardRef(({homepage:s,about:t,corporative:n},x)=>{const{lang:l}=C(),{data:u,status:i,error:r}=k(l),{width:c}=R(),j=["home_customers_title","customers_text"],{data:d,isLoading:h}=T(l,"site",j);return e.jsxs("section",{className:a.customers,ref:x,children:[e.jsx(P,{about:t,title:h?e.jsx(o,{variant:"text",height:60,width:200,sx:{margin:"0 auto"}}):d&&d.home_customers_title,corporative:n}),e.jsx("div",{className:a.customersText,children:e.jsx("p",{children:h?e.jsxs(e.Fragment,{children:[e.jsx(o,{variant:"text",width:800,height:20,sx:{margin:"0 auto"}}),e.jsx(o,{variant:"text",width:600,height:20,sx:{margin:"0 auto"}}),e.jsx(o,{variant:"text",width:300,height:20,sx:{margin:"0 auto"}})]}):d&&d.customers_text})}),i==="pending"&&e.jsx(p,{sx:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:e.jsx(o,{variant:"rectangular",width:"100%",height:300,className:"customerCard"})}),i==="error"&&e.jsx(p,{children:r}),e.jsx("div",{className:a.customerSliderWrapper,children:i==="success"&&e.jsx(e.Fragment,{children:n&&c>768?e.jsx("div",{className:"container",children:e.jsx("div",{className:"customerCard",children:u.map(w=>e.jsx(g,{img:w.image},w.id))})}):e.jsx(I,{customers:u})})}),s&&e.jsx(W,{})]})});export{b as default};
